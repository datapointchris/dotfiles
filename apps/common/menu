#!/usr/bin/env bash
# ================================================================
# menu - Workflow Tools Quick Reference
# ================================================================
# Simple launcher showing available workflow tools and commands
# ================================================================

set -euo pipefail

SHELL_DIR="${SHELL_DIR:-$HOME/.local/shell}"
source "$SHELL_DIR/formatting.sh"

gum style \
  --border=rounded \
  --border-foreground=4 \
  --padding="1 2" \
  --bold \
  "Workflow Tools"

echo ""

choice=$(gum choose --height=20 \
  "sess - Switch tmux session" \
  "theme preview - Change theme" \
  "font change - Change font" \
  "notes - Take notes" \
  "toolbox - Find a tool" \
  "workflows search - Browse workflows" \
  "patterns - Log an event" \
  "refcheck - Check references" \
  "backup-dirs - Backup directories" \
  "backup-incremental - Incremental backup" \
  "open docs - Open documentation")

case "$choice" in
  "sess"*) sess ;;
  "theme preview"*) theme preview ;;
  "font change"*) font change ;;
  "notes"*) notes ;;
  "toolbox"*) toolbox ;;
  "workflows search"*) workflows search ;;
  "patterns"*) patterns ;;
  "refcheck"*) refcheck ;;
  "backup-dirs"*) backup-dirs --help ;;
  "backup-incremental"*) backup-incremental --help ;;
  "open docs"*)
    print_green "Opening documentation..."
    open "https://datapointchris.github.io/dotfiles/"
    ;;
esac
