#!/usr/bin/env bash
# ================================================================
# menu - Workflow Tools Quick Reference
# ================================================================
# Simple launcher showing available workflow tools and commands
# Note: This is for development/workflow tools, NOT dotfiles management
# For dotfiles: use task symlinks:*, task install:*, etc.
# ================================================================

set -euo pipefail

# Source formatting library
SHELLS="${SHELLS:-$HOME/shell}"
source "$SHELLS/formatting.sh"

gum style \
  --border=rounded \
  --border-foreground=4 \
  --padding="1 2" \
  --bold \
  "Workflow Tools - What do you want to do?"

echo ""

choice=$(gum choose \
  "Switch tmux session" \
  "Find a tool" \
  "Change theme" \
  "Take/find a note" \
  "Browse documentation" \
  "Manage symlinks" \
  "View this help")

case "$choice" in
  "Switch tmux session")
    sess ;;

  "Find a tool")
    toolbox categories ;;

  "Change theme")
    selected=$(theme-sync favorites | fzf \
      --header="Select a theme to apply")
    if [[ -n "$selected" ]]; then
      theme-sync apply "$selected"
    fi
    ;;

  "Take/find a note")
    notes ;;

  "Browse documentation")
    print_green "Opening documentation..."
    open "https://datapointchris.github.io/dotfiles/"
    ;;

  "Manage symlinks")
    print_green "Symlink Management Commands:"
    echo ""
    echo "  task symlinks:link   - Deploy dotfiles to home directory"
    echo "  task symlinks:check  - Verify symlinks are correct"
    echo "  task symlinks:show   - Show symlink mappings"
    echo ""
    read -r -p "Press Enter to continue..."
    ;;

esac
