#!/usr/bin/env bash
# ================================================================
# menu - Workflow Tools Quick Reference
# ================================================================
# Simple launcher showing available workflow tools and commands
# ================================================================

set -euo pipefail

SHELL_DIR="${SHELL_DIR:-$HOME/.local/shell}"
source "$SHELL_DIR/formatting.sh"

gum style \
  --border=rounded \
  --border-foreground=4 \
  --padding="1 2" \
  --bold \
  "Workflow Tools - What do you want to do?"

echo ""

choice=$(gum choose \
  "Switch tmux session" \
  "Preview and apply theme" \
  "Change terminal font" \
  "Take or find notes" \
  "Browse workflows" \
  "Find a tool" \
  "Search regex patterns" \
  "Check references" \
  "Backup directories" \
  "Incremental backup" \
  "Deploy symlinks" \
  "Check symlinks" \
  "Open documentation")

case "$choice" in
  "Switch tmux session")
    sess ;;
  "Preview and apply theme")
    theme preview ;;
  "Change terminal font")
    font change ;;
  "Take or find notes")
    notes ;;
  "Browse workflows")
    workflows search ;;
  "Find a tool")
    toolbox categories ;;
  "Search regex patterns")
    patterns ;;
  "Check references")
    refcheck ;;
  "Backup directories")
    backup-dirs ;;
  "Incremental backup")
    backup-incremental ;;
  "Deploy symlinks")
    task symlinks:link ;;
  "Check symlinks")
    task symlinks:check ;;
  "Open documentation")
    print_green "Opening documentation..."
    open "https://datapointchris.github.io/dotfiles/"
    ;;
esac
