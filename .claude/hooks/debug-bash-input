#!/usr/bin/env python3
"""Debug hook to see exact structure of Bash tool input"""
import json
import sys
from datetime import datetime

try:
    data = json.load(sys.stdin)

    # Log to file for inspection
    with open('/tmp/bash-hook-debug.log', 'a') as f:
        f.write(f"\n=== {datetime.now().isoformat()} ===\n")
        f.write(json.dumps(data, indent=2))
        f.write("\n")

    # Always allow (this is just for debugging)
    sys.exit(0)
except Exception as e:
    with open('/tmp/bash-hook-debug.log', 'a') as f:
        f.write(f"ERROR: {e}\n")
    sys.exit(0)
