# Window Rules
# See https://wiki.hypr.land/Configuring/Window-Rules/

# Float common dialog windows
windowrule = float on, match:title ^(Open)$
windowrule = float on, match:title ^(Open File)$
windowrule = float on, match:title ^(Save As)$
windowrule = float on, match:title ^(Choose Files)$
windowrule = float on, match:title ^(Confirm)$
windowrule = float on, match:title ^(File Operation Progress)$

# Float and center pavucontrol (audio settings)
windowrule = float on, match:class ^(pavucontrol)$
windowrule = center on, match:class ^(pavucontrol)$

# Firefox Picture-in-Picture
windowrule = float on, match:class ^(firefox)$, match:title ^(Picture-in-Picture)$
windowrule = pin on, match:class ^(firefox)$, match:title ^(Picture-in-Picture)$
windowrule = keep_aspect_ratio on, match:class ^(firefox)$, match:title ^(Picture-in-Picture)$

# Firefox sharing indicator
windowrule = float on, match:class ^(firefox)$, match:title ^(Firefox — Sharing Indicator)$
windowrule = no_focus on, match:class ^(firefox)$, match:title ^(Firefox — Sharing Indicator)$

# Prevent screen from turning off during fullscreen video
windowrule = idle_inhibit fullscreen, match:class ^(firefox)$
windowrule = idle_inhibit fullscreen, match:class ^(mpv)$

# Ghostty theme preview windows (float like on macOS)
windowrule = float on, match:class ^(com.mitchellh.ghostty)$, match:title ^(THEME PREVIEW:)(.*)$

# Polkit authentication dialogs
windowrule = float on, match:class ^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = center on, match:class ^(org.kde.polkit-kde-authentication-agent-1)$

# Rofi (already floats, but ensure it's on top)
windowrule = stay_focused on, match:class ^(Rofi)$
