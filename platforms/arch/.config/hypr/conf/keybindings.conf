# Keybindings
# Designed for consistency with macOS AeroSpace config
# See https://wiki.hypr.land/Configuring/Binds/

$mainMod = SUPER

# Applications
bindd = $mainMod, Return, Open terminal, exec, ghostty
bindd = $mainMod, Space, Open launcher, exec, rofi -show drun
bindd = $mainMod SHIFT, slash, Show keybinds, exec, rofi-keybinds

# Window management
bindd = $mainMod, Q, Close window, killactive
bindd = $mainMod, F, Toggle floating, togglefloating
bindd = $mainMod SHIFT, F, Toggle fullscreen, fullscreen, 0

# Focus navigation (vim-style)
bindd = $mainMod, H, Focus left, movefocus, l
bindd = $mainMod, J, Focus down, movefocus, d
bindd = $mainMod, K, Focus up, movefocus, u
bindd = $mainMod, L, Focus right, movefocus, r

# Move windows (vim-style)
bindd = $mainMod SHIFT, H, Move window left, movewindow, l
bindd = $mainMod SHIFT, J, Move window down, movewindow, d
bindd = $mainMod SHIFT, K, Move window up, movewindow, u
bindd = $mainMod SHIFT, L, Move window right, movewindow, r

# Named workspaces (A, B, D, E, M, S, X, Z)
bindd = $mainMod, A, Go to workspace A, workspace, name:A
bindd = $mainMod, B, Go to workspace B, workspace, name:B
bindd = $mainMod, D, Go to workspace D, workspace, name:D
bindd = $mainMod, E, Go to workspace E, workspace, name:E
bindd = $mainMod, M, Go to workspace M, workspace, name:M
bindd = $mainMod, S, Go to workspace S, workspace, name:S
bindd = $mainMod, X, Go to workspace X, workspace, name:X
bindd = $mainMod, Z, Go to workspace Z, workspace, name:Z

# Move window to workspace
bindd = $mainMod SHIFT, A, Move to workspace A, movetoworkspace, name:A
bindd = $mainMod SHIFT, B, Move to workspace B, movetoworkspace, name:B
bindd = $mainMod SHIFT, D, Move to workspace D, movetoworkspace, name:D
bindd = $mainMod SHIFT, E, Move to workspace E, movetoworkspace, name:E
bindd = $mainMod SHIFT, M, Move to workspace M, movetoworkspace, name:M
bindd = $mainMod SHIFT, S, Move to workspace S, movetoworkspace, name:S
bindd = $mainMod SHIFT, X, Move to workspace X, movetoworkspace, name:X
bindd = $mainMod SHIFT, Z, Move to workspace Z, movetoworkspace, name:Z

# Workspace back-and-forth
bindd = $mainMod, Tab, Previous workspace, workspace, previous

# Scratchpad (special workspace)
bindd = $mainMod, grave, Toggle scratchpad, togglespecialworkspace, scratchpad
bindd = $mainMod SHIFT, apostrophe, Move to scratchpad, movetoworkspacesilent, special:scratchpad

# Toggle split direction (matches AeroSpace tile orientation on alt-')
bindd = $mainMod, apostrophe, Toggle split direction, togglesplit

# Layout toggle (dwindle <-> master)
bindd = $mainMod, backslash, Toggle layout, exec, hyprctl keyword general:layout "$(hyprctl getoption general:layout -j | jq -r 'if .str == "dwindle" then "master" else "dwindle" end')"

# Reload config
bindd = $mainMod SHIFT, R, Reload config, exec, hyprctl reload

# Mouse bindings
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Resize submap (mode)
bindd = $mainMod, R, Enter resize mode, submap, resize

submap = resize
binde = , H, resizeactive, -50 0
binde = , J, resizeactive, 0 50
binde = , K, resizeactive, 0 -50
binde = , L, resizeactive, 50 0
bind = , Escape, submap, reset
bind = , Return, submap, reset
submap = reset

# Media keys
binde = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
binde = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioPrev, exec, playerctl previous
bind = , XF86AudioNext, exec, playerctl next

# Brightness (if applicable)
binde = , XF86MonBrightnessUp, exec, brightnessctl s 10%+
binde = , XF86MonBrightnessDown, exec, brightnessctl s 10%-

# Screenshot
bind = , Print, exec, grim -g "$(slurp)" - | wl-copy
bind = $mainMod, Print, exec, grim - | wl-copy

# Clipboard history
bindd = $mainMod, V, Clipboard history, exec, cliphist list | rofi -dmenu | cliphist decode | wl-copy

# Lock screen
bindd = $mainMod CTRL, L, Lock screen, exec, hyprlock
